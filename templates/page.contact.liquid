<div class="contact-page">
  <div class="container">
    <div class="contact-header">
      <h1>{{ page.title }}</h1>
      <p>Estamos aquí para ayudarte. Envíanos un mensaje y te responderemos lo antes posible.</p>
    </div>
    
    <div class="contact-content">
      <div class="contact-form-wrapper">
        {% form 'contact' %}
          {% if form.posted_successfully? %}
            <div class="form-success">
              <p>Gracias por contactarnos. Te responderemos pronto.</p>
            </div>
          {% endif %}
          
          {% if form.errors %}
            <div class="form-errors">
              <p>Por favor corrige los siguientes errores:</p>
              <ul>
                {% for field in form.errors %}
                  <li>{{ field }} - {{ form.errors.messages[field] }}</li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
          
          <div class="form-row">
            <div class="form-field">
              <label for="contact-name">Nombre *</label>
              <input type="text" 
                     id="contact-name" 
                     name="contact[name]" 
                     value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
                     required>
            </div>
            
            <div class="form-field">
              <label for="contact-email">Email *</label>
              <input type="email" 
                     id="contact-email" 
                     name="contact[email]" 
                     value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
                     required>
            </div>
          </div>
          
          <div class="form-field">
            <label for="contact-phone">Teléfono</label>
            <input type="tel" 
                   id="contact-phone" 
                   name="contact[phone]" 
                   value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}">
          </div>
          
          <div class="form-field">
            <label for="contact-message">Mensaje *</label>
            <textarea id="contact-message" 
                      name="contact[body]" 
                      rows="8" 
                      required>{% if form.body %}{{ form.body }}{% endif %}</textarea>
          </div>
          
          <button type="submit" class="btn-submit">Enviar mensaje</button>
        {% endform %}
      </div>
      
      <div class="contact-info">
        <div class="contact-info-block">
          <h3>Ubicación</h3>
          <p>{{ shop.address.address1 }}<br>
          {{ shop.address.city }}, {{ shop.address.province_code }} {{ shop.address.zip }}<br>
          {{ shop.address.country }}</p>
        </div>
        
        <div class="contact-info-block">
          <h3>Email</h3>
          <p><a href="mailto:{{ shop.email }}">{{ shop.email }}</a></p>
        </div>
        
        <div class="contact-info-block">
          <h3>Teléfono</h3>
          <p><a href="tel:{{ shop.phone }}">{{ shop.phone }}</a></p>
        </div>
        
        <div class="contact-info-block">
          <h3>Horario</h3>
          <p>Lunes - Viernes: 9:00 - 18:00<br>
          Sábado: 10:00 - 14:00<br>
          Domingo: Cerrado</p>
        </div>
        
        <div class="contact-info-block">
          <h3>Síguenos</h3>
          <div class="social-links">
            {% if settings.social_instagram_link != blank %}
              <a href="{{ settings.social_instagram_link }}" target="_blank" aria-label="Instagram">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153.555.555.899 1.112 1.153 1.772.248.638.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.217 1.79-.465 2.428a4.883 4.883 0 0 1-1.153 1.772 4.915 4.915 0 0 1-1.772 1.153c-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.217-2.428-.465a4.89 4.89 0 0 1-1.772-1.153 4.904 4.904 0 0 1-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428A4.88 4.88 0 0 1 3.678 3.678a4.897 4.897 0 0 1 1.772-1.153c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2zm0 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.5-.25a1.25 1.25 0 0 0-2.5 0 1.25 1.25 0 0 0 2.5 0zM12 9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/>
                </svg>
              </a>
            {% endif %}
            {% if settings.social_facebook_link != blank %}
              <a href="{{ settings.social_facebook_link }}" target="_blank" aria-label="Facebook">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.contact-page {
  padding: 150px 0 100px;
}

.contact-header {
  text-align: center;
  margin-bottom: 80px;
}

.contact-header h1 {
  font-size: 4rem;
  margin-bottom: 20px;
  color: var(--color-dark);
}

.contact-header p {
  font-size: 1.1rem;
  color: var(--color-gray);
  max-width: 600px;
  margin: 0 auto;
}

.contact-content {
  display: grid;
  grid-template-columns: 1.5fr 1fr;
  gap: 80px;
}

.form-success {
  background: #4caf50;
  color: white;
  padding: 20px;
  margin-bottom: 30px;
  border-radius: 4px;
}

.form-errors {
  background: #d32f2f;
  color: white;
  padding: 20px;
  margin-bottom: 30px;
  border-radius: 4px;
}

.form-errors ul {
  margin-top: 10px;
  padding-left: 20px;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.form-field {
  margin-bottom: 25px;
}

.form-field label {
  display: block;
  margin-bottom: 10px;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  color: var(--color-gray);
}

.form-field input,
.form-field textarea {
  width: 100%;
  padding: 15px 20px;
  border: 2px solid var(--color-light-gray);
  background: var(--color-white);
  font-family: var(--font-body);
  font-size: 14px;
  transition: var(--transition);
}

.form-field input:focus,
.form-field textarea:focus {
  outline: none;
  border-color: var(--color-gold);
}

.form-field textarea {
  resize: vertical;
  min-height: 150px;
}

.btn-submit {
  width: 100%;
  padding: 20px;
  background: var(--color-black);
  color: var(--color-white);
  border: 2px solid var(--color-black);
  text-transform: uppercase;
  letter-spacing: 2px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  font-family: var(--font-body);
}

.btn-submit:hover {
  background: transparent;
  color: var(--color-black);
}

.contact-info-block {
  margin-bottom: 50px;
}

.contact-info-block h3 {
  font-size: 1.5rem;
  margin-bottom: 15px;
  color: var(--color-dark);
}

.contact-info-block p {
  color: var(--color-gray);
  line-height: 1.8;
}

.contact-info-block a {
  color: var(--color-gold);
  text-decoration: none;
}

.contact-info-block a:hover {
  text-decoration: underline;
}

.social-links {
  display: flex;
  gap: 20px;
  margin-top: 15px;
}

.social-links a {
  color: var(--color-dark);
  transition: var(--transition);
}

.social-links a:hover {
  color: var(--color-gold);
}

@media (max-width: 768px) {
  .contact-content {
    grid-template-columns: 1fr;
    gap: 60px;
  }
  
  .form-row {
    grid-template-columns: 1fr;
  }
}
</style>
